# IRAC Platform - Production Environment Configuration
# =================================================
# This file contains all production environment variables
# Fill in the actual values before deploying to production

# =====================================
# CORE APPLICATION SETTINGS
# =====================================

# Application Environment
NODE_ENV=production
DENO_ENV=production
IRAC_ENV=production

# Application Metadata
APP_NAME="IRAC Platform"
APP_VERSION="2.0.0"
APP_DESCRIPTION="Interactive Resource and Assessment Center"

# =====================================
# SERVER CONFIGURATION
# =====================================

# Backend Server
BACKEND_PORT=1405
BACKEND_HOST=0.0.0.0
API_BASE_URL=https://yourdomain.com/api
LESAN_ENDPOINT=/lesan

# Frontend Server
FRONTEND_PORT=3000
FRONTEND_HOST=0.0.0.0
FRONTEND_URL=https://yourdomain.com

# Domain Configuration
DOMAIN=yourdomain.com
ADMIN_EMAIL=admin@yourdomain.com
SSL_EMAIL=admin@yourdomain.com

# =====================================
# DATABASE CONFIGURATION
# =====================================

# MongoDB Connection
MONGODB_URI=mongodb://localhost:27017/irac_production
MONGODB_DATABASE=irac_production
MONGODB_OPTIONS=retryWrites=true&w=majority

# Database Pool Settings
MONGODB_MAX_POOL_SIZE=10
MONGODB_MIN_POOL_SIZE=2
MONGODB_MAX_IDLE_TIME=30000

# =====================================
# SECURITY CONFIGURATION
# =====================================

# JWT Secret (CHANGE THIS TO A STRONG RANDOM STRING)
JWT_SECRET=your_super_secure_jwt_secret_key_change_this_in_production
JWT_EXPIRES_IN=24h
REFRESH_TOKEN_EXPIRES_IN=7d

# Session Configuration
SESSION_SECRET=your_super_secure_session_secret_change_this_in_production
SESSION_MAX_AGE=86400000

# Password Security
BCRYPT_ROUNDS=12
PASSWORD_MIN_LENGTH=8

# API Rate Limiting
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000

# =====================================
# EXTERNAL SERVICES - SMS
# =====================================

# SMS Service Provider (Choose one)
SMS_PROVIDER=kavenegar
# Options: kavenegar, smsir, twilio

# Kavenegar Configuration
KAVENEGAR_API_KEY=your_kavenegar_api_key_here
KAVENEGAR_SENDER=your_sender_number

# SMS.ir Configuration
SMSIR_API_KEY=your_smsir_api_key_here
SMSIR_SECRET_KEY=your_smsir_secret_key_here
SMSIR_LINE_NUMBER=your_line_number

# Twilio Configuration
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=your_twilio_phone_number

# =====================================
# EXTERNAL SERVICES - EMAIL
# =====================================

# Email Service Provider (Choose one)
EMAIL_PROVIDER=mailgun
# Options: mailgun, sendgrid, smtp

# Mailgun Configuration
MAILGUN_API_KEY=your_mailgun_api_key_here
MAILGUN_DOMAIN=your_mailgun_domain
MAILGUN_FROM_EMAIL=noreply@yourdomain.com
MAILGUN_FROM_NAME="IRAC Platform"

# SendGrid Configuration
SENDGRID_API_KEY=your_sendgrid_api_key_here
SENDGRID_FROM_EMAIL=noreply@yourdomain.com
SENDGRID_FROM_NAME="IRAC Platform"

# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password

# =====================================
# EXTERNAL SERVICES - PAYMENT
# =====================================

# Payment Service Provider (Choose one or both)
PAYMENT_PROVIDER=zarinpal
# Options: zarinpal, stripe, paypal

# ZarinPal Configuration (Iranian Payment Gateway)
ZARINPAL_MERCHANT_ID=your_zarinpal_merchant_id
ZARINPAL_CALLBACK_URL=https://yourdomain.com/payment/callback
ZARINPAL_SANDBOX=false

# Stripe Configuration
STRIPE_PUBLISHABLE_KEY=pk_live_your_stripe_publishable_key
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# PayPal Configuration
PAYPAL_CLIENT_ID=your_paypal_client_id
PAYPAL_CLIENT_SECRET=your_paypal_client_secret
PAYPAL_MODE=live

# =====================================
# FILE STORAGE CONFIGURATION
# =====================================

# File Storage Provider (Choose one)
STORAGE_PROVIDER=local
# Options: local, s3, arvan, minio

# Local Storage
UPLOAD_DIR=/var/www/irac/uploads
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx,mp4,mp3

# AWS S3 Configuration
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1
S3_BUCKET=irac-production-files

# Arvan Cloud Configuration
ARVAN_ACCESS_KEY=your_arvan_access_key
ARVAN_SECRET_KEY=your_arvan_secret_key
ARVAN_ENDPOINT=https://s3.ir-thr-at1.arvanstorage.com
ARVAN_BUCKET=irac-files

# CDN Configuration
CDN_URL=https://cdn.yourdomain.com
CDN_ENABLED=true

# =====================================
# SECURITY HEADERS & CORS
# =====================================

# CORS Configuration
CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# Security Headers
HSTS_MAX_AGE=31536000
CSP_POLICY="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'"

# =====================================
# LOGGING & MONITORING
# =====================================

# Logging Configuration
LOG_LEVEL=info
LOG_FILE=/var/log/irac/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# Error Monitoring (Sentry)
SENTRY_DSN=your_sentry_dsn_here
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Analytics
GOOGLE_ANALYTICS_ID=GA_TRACKING_ID
HOTJAR_ID=your_hotjar_id

# =====================================
# PERFORMANCE & CACHING
# =====================================

# Redis Configuration (for caching)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your_redis_password
REDIS_DB=0

# Cache Settings
CACHE_TTL=3600
STATIC_CACHE_TTL=86400
API_CACHE_TTL=300

# =====================================
# BACKUP & MAINTENANCE
# =====================================

# Database Backup
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=irac-backups

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="The IRAC platform is temporarily unavailable for maintenance. Please try again in a few minutes."

# =====================================
# FEATURE FLAGS
# =====================================

# Business Features
ENABLE_USER_REGISTRATION=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_SMS_VERIFICATION=true
ENABLE_PAYMENT_PROCESSING=true
ENABLE_FILE_UPLOADS=true
ENABLE_COURSE_ENROLLMENT=true
ENABLE_REFERRAL_SYSTEM=true
ENABLE_BOOKING_SYSTEM=true
ENABLE_WALLET_SYSTEM=true

# Admin Features
ENABLE_ADMIN_PANEL=true
ENABLE_DATA_SEEDING=true
ENABLE_SYSTEM_STATS=true

# Development Features (should be false in production)
ENABLE_DEBUG_MODE=false
ENABLE_API_DOCS=false
ENABLE_TEST_ENDPOINTS=false

# =====================================
# LOCALIZATION & INTERNATIONALIZATION
# =====================================

# Default Language
DEFAULT_LANGUAGE=fa
SUPPORTED_LANGUAGES=fa,en

# Timezone
TIMEZONE=Asia/Tehran
DATE_FORMAT=YYYY/MM/DD
TIME_FORMAT=HH:mm

# Currency
DEFAULT_CURRENCY=IRR
SUPPORTED_CURRENCIES=IRR,USD,EUR

# =====================================
# BUSINESS CONFIGURATION
# =====================================

# Platform Settings
PLATFORM_NAME="IRAC"
PLATFORM_TAGLINE="Interactive Resource and Assessment Center"
CONTACT_EMAIL=support@yourdomain.com
SUPPORT_PHONE=+98-21-12345678

# Business Rules
MIN_WITHDRAWAL_AMOUNT=50000
MAX_REFERRAL_COMMISSION=0.1
DEFAULT_USER_LEVEL=Ordinary
POINTS_PER_REGISTRATION=100

# Course Settings
MAX_COURSE_SIZE=1000
COURSE_COMPLETION_THRESHOLD=0.8
CERTIFICATE_ENABLED=true

# Booking Settings
BOOKING_ADVANCE_DAYS=30
BOOKING_CANCELLATION_HOURS=24
DEFAULT_BOOKING_DURATION=60

# =====================================
# PRODUCTION OPTIMIZATIONS
# =====================================

# Performance Settings
ENABLE_COMPRESSION=true
ENABLE_HTTP2=true
ENABLE_ETAG=true

# Resource Optimization
IMAGE_OPTIMIZATION=true
CSS_MINIFICATION=true
JS_MINIFICATION=true

# Database Optimization
ENABLE_QUERY_OPTIMIZATION=true
INDEX_CREATION=true
QUERY_TIMEOUT=5000

# =====================================
# HEALTH CHECKS & MONITORING
# =====================================

# Health Check Endpoints
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_TIMEOUT=5000

# Monitoring URLs
STATUS_PAGE_URL=https://status.yourdomain.com
MONITORING_WEBHOOK=your_monitoring_webhook_url

# Alerts
ALERT_EMAIL=alerts@yourdomain.com
ALERT_THRESHOLD_ERROR_RATE=0.05
ALERT_THRESHOLD_RESPONSE_TIME=2000

# =====================================
# DEPLOYMENT INFORMATION
# =====================================

# Deployment Metadata
DEPLOY_VERSION=2.0.0
DEPLOY_DATE=2024-12-14
DEPLOY_ENVIRONMENT=production
GIT_COMMIT_HASH=placeholder

# Container Settings (if using Docker)
CONTAINER_MEMORY=2g
CONTAINER_CPU=1
REPLICAS=1

# =====================================
# END OF CONFIGURATION
# =====================================

# Notes:
# 1. Replace all placeholder values with actual production values
# 2. Keep this file secure and never commit sensitive data to version control
# 3. Use environment-specific values for different deployment stages
# 4. Regularly rotate secrets and API keys
# 5. Monitor and log access to sensitive configuration
